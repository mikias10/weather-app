"use strict";angular.module("architechApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.select","chart.js","highcharts-ng","selectize"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/weather.html",controller:"weatherCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("architechApp").controller("weatherCtrl",["$scope","weatherService","$filter","$window",function(a,b,c,d){a.press=[],a.ave="",a.total=0,a.time_array=[],a.temp_array=[];var e;a.cityName="_____________",a.askWeather=function(){console.log("city",a.city),a.press=[],a.time_array=[],a.temp_array=[],a.time_array=[],a.temp_array=[],a.total=0,a.ave="",e=0,a.cityName="_____________",(""===a.city||void 0===a.city)&&d.location.reload(),a.cityName=a.city,b.getWeather(a.city).then(function(b){a.list=b.list,a.list.forEach(function(b){a.press.push(b.main.pressure)});var d,f;for(a.listSkipped=[],d=0;d<a.list.length;d+=4){a.listSkipped.push(a.list[d]);var g=new Date(1e3*a.list[d].dt),h=c("date")(g,"short");a.time_array.push(h),a.temp_array.push(a.list[d].main.temp)}for(f=0;f<a.press.length;f++)a.total=a.total+a.press[f];e=a.total/a.press.length,a.ave=e.toFixed(2),console.log(a.ave)}),a.options={responsive:!0,maintainAspectRatio:!0},a.labels=a.time_array,console.log(a.labels),a.series=["Days vs Temperature"],a.data=[a.temp_array],a.onClick=function(a,b){console.log(a,b)},a.press=[],a.city=""}}]),angular.module("architechApp").factory("weatherService",["$http","$q",function(a,b){function c(c){var d=b.defer();return a.get("http://api.openweathermap.org/data/2.5/forecast/city?q="+c+"&units=metric&mo?callback=JSON_CALLBACK").success(function(a){d.resolve(a)}).error(function(a){console.log("Weather data not available"),d.reject(a)}),d.promise}return{getWeather:c}}]);